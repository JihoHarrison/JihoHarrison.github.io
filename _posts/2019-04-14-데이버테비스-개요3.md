---
layout: post
title:  "[DB] 데이터베이스2"
date:   2019-04-14 18:34:10 +0700
categories: [database]
---


> 서울과학기술대학교 3학년 교과과정으로 배운 "데이터베이스" 시험 공부 및 정리용 포스팅 😆
>
> _1강 - Introduction(2)_
>
> _🙋 1강에서 설명할 수 있어야 할 것들 🙋_
>
> -  

<br>

## 3️⃣ 데이터베이스의 3층 구조
---

- _데이터베이스의 세가지 구조_

	데이터베이스는 크게 세가지 구조로 이루어져 있다.

	__논리구조__ 와 __물리구조__, __뷰구조__ 이다.

	<br>
- _물리계층_

	물리계층은 데이터베이스의 물리적인 정보인 주소 정보, 크기 정보, 엑세스 방식 등을 기술하는 부분이다.

	<br>

- _논리계층_

	논리계층은 데이터베이스의 전체적인 논리구조를 정의하는 부분이다.

	> 그래서 데이터베이스의 논리구조가 뭔데?

	논리계층에 데이터베이스에 저장된 데이터들에 대해 아래 그림과 같이 설명해 놓는다.

	![데이터베이스27](https://user-images.githubusercontent.com/31889335/56092006-84d21300-5ef1-11e9-88e0-e59dcced13c1.PNG)

	데이터베이스 전체를 관리하는 사람인 DataBase Administrator(DBA)가 데이터베이스의 전체 논리구조를 정의한다.

	<br>

- _뷰 계층_

	뷰 계층은 데이터베이스 전체가 아닌 부분의 논리 구조를 정의하는 부분이다.

	![데이터베이스28](https://user-images.githubusercontent.com/31889335/56092163-581efb00-5ef3-11e9-9390-76e52f327505.PNG)

	뷰 계층을 다른 말로 __서브 스키마(Sub Schema)__ 라고도 한다. 

	데이터베이스 3계층의 모습은 위 그림과 같다!

	<br>

## 📦 데이터베이스를 '구축'하는 방법
---

- _데이터베이스 관리자 등장_

	데이터베이스를 구축하려면 데이터베이스 관리자가 데이터베이스의 논리 구조를 정의해야 한다.

	<br>

## 📏 '인스턴스' 와 '스키마' 개념
---

- _스키마(schema)_

	스키마는 위에서 말한 __데이터베이스의 논리적 구조__ 를 말한다.

	스키마에는 __물리적 스키마__ 와 __논리적 스키마__ 가 있는데 각각 물리계층에 대한 스키마와 논리계층에 대한 스키마를 뜻한다.

	아직 데이터들이 들어가지 않은 __틀__ 같은 개념이다.

	<br>

- _인스턴스(instance)_ 
	
	인스턴스는 __데이터 실제 값__ 들을 말한다.

	<br>

## 🎨 데이터모델(Model)
---

- _데이터모델이란?_

	데이터모델은 데이터베이스의 논리적인 구조를 정의할 때 사용하는 도구이다. 

	데이터베이스의 논리적인 구조에는 아래 4가지 것들이 속한다.

	- 데이터 자체

	- 데이터들의 관계

	- 데이터의 의미

	- 데이터 제약조건

	__데이터모델링__ 이라고 하는 것은 데이터모델을 이용해서 위와 같은 데이터베이스의 논리적인 구조를 정의하는 행위를 말한다.

	<br>

- _데이터모델의 종류_

	데이터모델은 여러가지가 있는데 

	__Relational model__ = 관계형 모델

	__Entity-Relationship data model__ = ER 모델

	__Object-based data model__ = 객체지향 모델

	__Semistructured data model__ = XML 모델

	등이 있다.

	<br>

- _관계형 모델(Relational model)_

	데이터모델 중에는 관계형 모델이라는 것이 있다.

	주로 mysql 등의 데이터베이스들은 관계형 모델을 이용해서 데이터 모델링을 한 데이터베이스이다.

	<br>

## 👄 DML 과 DDL
---

- 데이터 베이스를 구축하려면 데이터베이스의 논리구조와 물리구조를 정의해야 하는데 이 '정의한다' 라는 행위는 어떻게 하는 걸까?

	바로 __DDL__ 이라는 데이터베이스 언어를 사용해서 정의하는 것이다!

	<br>

- _DDL_	

	DDL은 __Data Definition Language__ 의 약자이다.

	DDL을 사용해서 데이터베이스의 스키마를 정의할 수 있다.
	
	![데이터베이스29](https://user-images.githubusercontent.com/31889335/56092569-b5697b00-5ef8-11e9-9f1c-e212cd8a95f9.PNG)

	위 그림은 DDL을 사용해서 instructor(교수님) 이라는 이름의 테이블을 만드는 모습이다.

	더 자세히 말하면 __create__ 같은 명령어가 DDL인 것이다.

	DDL 컴파일러는 위 명령어를 컴파일한 후, __데이터 딕셔너리(dictionary)__ 라는 것 안에 해당 테이블의 템플릿을 생성한다.

	> 데이터 딕셔너리..?

	우리의 하드디스크에는 데이터 딕셔너리라는 부분이 있는데 데이터 베이스에 관한 모든 정보(논리구조와 물리구조)는 이 곳에 저장된다.

	![데이터베이스30](https://user-images.githubusercontent.com/31889335/56092780-43defc00-5efb-11e9-833a-90fa8f47d2f3.PNG)

	위 그림은 데이터 딕셔너리의 설명을 돕기 위해 
	간략히 그린 그림이다.

	위의 DDL 명령어를 DDL 컴파일러가 컴파일하면 데이터 딕셔너리 안에 instructor_inform 이라는 테이블이 생성된다.

	이 테이블은 

	![데이터베이스31](https://user-images.githubusercontent.com/31889335/56092898-36c30c80-5efd-11e9-8bf4-f9cd0a5dc19f.PNG)

	위와 같은 모습으로 instructor 테이블의 정보를 담고 있다!

	데이터 딕셔너리 안의 정보들을 다른 말로 __메타 데이터__ 라고도 부른다. 메타 데이터라는 용어는 다양한 부분에서 많이 사용되는데 __무엇에 관한 정보__ 를 의미하는 용어이다.

	더 자세히, 데이터 딕셔너리 안의 메타 데이터에는 데이터베이스 스키마, 각종 제약 조건들, 사용자에 대한 권한 정보들이 속한다. 

	이렇게 컴파일러가 데이터 딕셔너리 안에 테이블 정보를 담는 테이블을 생성한 후에 본격적으로 DDL 명령어에 해당되는 작업을 한다.

	위 명령어는 instructor 이라는 이름의 테이블을 생성하라는 명령어인데 이때, 테이블의 인스턴스들은 아직 삽입되지 않은 상태인 스키마 형태로 생성된다.

	![데이터베이스32](https://user-images.githubusercontent.com/31889335/56092932-a6d19280-5efd-11e9-8998-3221862f46d1.PNG)
	
	위 그림처럼 데이터 딕셔너리 밖의 하드디스크 부분에 DDL 명령대로 행해진 instructor 테이블의 스키마가 생성된다.

	<br>

- _DML_

	__Data Manipulation Language__ 의 약자이다.

	우리말로 하면 데이터 조작 언어라는 뜻이다.

	> 데이터를 조작한다는 것이 뭘까?

	데이터를 조작한다는 것은 아래 4가지 행위를 하는 것이다!

	- __데이터 삽입하기__

	- __데이터 삭제하기__

	- __데이터 수정하기__

	- __데이터 삭제하기__

	예를 들어, __insert into__ instructor __values__ ("17101201", "kimchohee", "seoultech", "ComputerScience")

	라는 코드는 DML 코드이다.

	instructor 테이블에 괄호 안의 정보를 삽입하라는 것이다. 즉, 이제야 실제 데이터(=인스턴스)가 insert 라는 명령어에 의해 테이블에 추가되는 모습이다.

	위 명령어를 작성하면 DML 컴파일러는 위 명령어를 컴퓨터가 이해하는 object 코드로 바꾸어준다.

	위 insert 명령어를 통해 인스턴스들을 해당 테이블에 넣기 위해 instructor 라는 테이블이 하드디스크의 어디에 위치해 있는지를 알아야한다.

	테이블 위치에 대한 정보는 위에서 데이터 딕셔너리 안에 생성한 테이블에 있음을 배웠다!

	즉, insert 명령어를 수행하려면 제일 먼저 데이터 딕셔너리에 가서 instructor 라는 테이블에 대한 정보를 참고하여야 한다!!

	이렇게 instructor 테이블의 위치를 알아낸 후에야 insert 명령을 실행할 수 있다.  

	<br>

## 🎨 데이터베이스 디자인하기
---

- _데이터베이스를 디자인 하는 5단계_

	__1단계__ = 사용자 요구사항을 분석한다.

	__2단계__ = 데이터베이스 스키마를 설계한다. (이 단계를 수행하기 윗해 ER 모델을 많이 사용한다.)

	__3단계__ = 논리 데이터베이스를 설계한다. ( 스키마를 디자인하는 단계이다. 이 단계를 수행하기 위해 관계형 모델을 많이 사용한다. )

	__4단계__ = 물리 데이터베이스를 설계한다. ( 이 단계는 데이터베이스 관리자들이 수행한다 .)

	__5단계__ = 데이터베이스를 참고하여 프로그램을 짠다.

	

		
