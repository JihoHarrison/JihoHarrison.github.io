<!DOCTYPE html>
<html lang="en">





<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="  BottomNavigation 도큐먼트 와 머터리얼 디자인 Bottom navigation 을 참고한 포스팅!✋ Bottom Navigation 만드는 나만의 라이브러뤼~      Bottom Navigation 도큐먼트 찾아보기    일단 무조건 Bottom Navigatio...">
  <meta name="keywords" content="blog and jekyll">
  <meta name="author" content="[안드로이드] ✋ Bottom Navigation 만드는 나만의 라이브러리 | choheeis">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#f5f5f5">

  <!-- Twitter Tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="[안드로이드] ✋ Bottom Navigation 만드는 나만의 라이브러리 | choheeis">
  <meta name="twitter:description" content="  BottomNavigation 도큐먼트 와 머터리얼 디자인 Bottom navigation 을 참고한 포스팅!✋ Bottom Navigation 만드는 나만의 라이브러뤼~      Bottom Navigation 도큐먼트 찾아보기    일단 무조건 Bottom Navigatio...">
  
    <meta property="twitter:image" content="http://localhost:4000/img/leonids-logo.png">
  

  <!-- Open Graph Tags -->
  <meta property="og:type" content="blog">
  <meta property="og:url" content="http://localhost:4000/articles/2020-03/BottomNavigation">
  <meta property="og:title" content="[안드로이드] ✋ Bottom Navigation 만드는 나만의 라이브러리 | choheeis">
  <meta property="og:description" content="  BottomNavigation 도큐먼트 와 머터리얼 디자인 Bottom navigation 을 참고한 포스팅!✋ Bottom Navigation 만드는 나만의 라이브러뤼~      Bottom Navigation 도큐먼트 찾아보기    일단 무조건 Bottom Navigatio...">
  
    <meta property="og:image" content="http://localhost:4000/img/leonids-logo.png">
  
  <title>[안드로이드] ✋ Bottom Navigation 만드는 나만의 라이브러리 | choheeis</title>

  <!-- CSS files -->
  <link rel="stylesheet" href="http://localhost:4000/css/font-awesome.min.css">
  <link rel="stylesheet" href="http://localhost:4000/css/main.css">

  <link rel="canonical" href="http://localhost:4000/articles/2020-03/BottomNavigation">
  <link rel="alternate" type="application/rss+xml" title="choheeis" href="http://localhost:4000/feed.xml" />

  <!-- Icons -->
  <!-- 16x16 -->
  <link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
  <!-- 32x32 -->
  <link rel="shortcut icon" href="http://localhost:4000/favicon.png">
</head>


<body>
  <div class="row">
    <div class="col s12 m3">
      <div class="table cover">
        

<div class="cover-card table-cell table-middle">
  
  <a href="http://localhost:4000/">
    <img src="http://localhost:4000/img/avatar.png" alt="" class="avatar">
  </a>
  
  <a href="http://localhost:4000/" class="author_name">김초희</a>
  <span class="author_job">나는야 안드로이드 개발자 꿈나무 🍎</span>
  <span class="author_bio mbm">구경하러 오신 분들 모두 좋은 하루 되세요 🍉</span>
  <nav class="nav">
    <ul class="nav-list">
      <li class="nav-item">
        <a href="http://localhost:4000/">home</a>
      </li>
       
      <li class="nav-item">
        <a href="http://localhost:4000/archive/">Archive</a>
      </li>
            
      <li class="nav-item">
        <a href="http://localhost:4000/categories/">Categories</a>
      </li>
          
      <li class="nav-item">
        <a href="http://localhost:4000/resume/">Resume</a>
      </li>
          
      <li class="nav-item">
        <a href="http://localhost:4000/tags/">Tags</a>
      </li>
       
    </ul>
  </nav>
  <script type="text/javascript">
  // based on http://stackoverflow.com/a/10300743/280842
  function gen_mail_to_link(hs, subject) {
    var lhs,rhs;
    var p = hs.split('@');
    lhs = p[0];
    rhs = p[1];
    document.write("<a class=\"social-link-item\" target=\"_blank\" href=\"mailto");
    document.write(":" + lhs + "@");
    document.write(rhs + "?subject=" + subject + "\"><i class=\"fa fa-fw fa-envelope\"></i><\/a>");
  }
</script>
<div class="social-links">
  <ul>
    
      <li>
      <script>gen_mail_to_link('chchgml10@gmail.com', 'Hello from website');</script>
      </li>
    
    
    
    
    
    
    
    <li><a href="http://instagram.com/chooeeh" class="social-link-item" target="_blank"><i class="fa fa-fw fa-instagram"></i></a></li>
    
    <li><a href="http://github.com/choheeis" class="social-link-item" target="_blank"><i class="fa fa-fw fa-github"></i></a></li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </ul>
</div>

</div>

      </div>
    </div>
    <div class="col s12 m9">
      <div class="post-listing">
        <a class="btn" href= "http://localhost:4000/" >
  Home
</a>



<div id="post">
  <header class="post-header">
    <h1 title="[안드로이드] ✋ Bottom Navigation 만드는 나만의 라이브러리">[안드로이드] ✋ Bottom Navigation 만드는 나만의 라이브러리</h1>
    <span class="post-meta">
      <span class="post-date">
        1 MAR 2020
      </span>
      •
      <span class="read-time" title="Estimated read time">
  
  
    5 mins read
  
</span>

    </span>

  </header>

  <article class="post-content">
    <blockquote>
  <p><a href="https://developer.android.com/reference/android/support/design/widget/BottomNavigationView.html#inherited-constants">BottomNavigation 도큐먼트</a> 와 <a href="https://material.io/components/bottom-navigation/#">머터리얼 디자인 Bottom navigation</a> 을 참고한 포스팅!</p>
</blockquote>

<h1 id="-bottom-navigation-만드는-나만의-라이브러뤼">✋ Bottom Navigation 만드는 나만의 라이브러뤼~</h1>

<ol>
  <li>
    <p><strong>Bottom Navigation 도큐먼트 찾아보기</strong></p>

    <p>일단 무조건 Bottom Navigation에 대한 공식 도큐먼트가 있는지 찾아봐야겠지?</p>

    <p><a href="https://developer.android.com/reference/android/support/design/widget/BottomNavigationView.html#inherited-constants">BottomNavigation 도큐먼트</a> 있다!</p>

    <p>그럼 이제 이 도큐먼트를 읽어보자!</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/75611533-a3b7b300-5b5e-11ea-8421-0f7e23c2ecaa.PNG" alt="01" /></p>

    <p>위 그림처럼 BottomNavigationView 라는 제목 위에 작은 글씨로 쓰여있는 부분이 있었다!</p>

    <p>읽어보니 이 BottomNavigation은 안드로이드 컴파일 버전 26.1.0 부터 추가되었고, com.android.support:design:27.1.0 버전에 속해있다고 하는 것 같다.</p>

    <p>즉, 이 BottomNavigation은 처음부터 있던 뷰가 아니라 중간에 추가된 뷰이고 안드로이드 지원 라이브러리 중 디자인 라이브러리(android.support:design)에 속해있는 뷰라는 것이다.</p>

    <blockquote>
      <p>–&gt; <a href="https://developer.android.com/topic/libraries/support-library?hl=ko">android.support 라이브러리에 대한 도큐먼트</a></p>
    </blockquote>

    <p><strong>그렇기 때문에 프로젝트에 android.support:design:27.1.0 버전을 implement 해야한다.</strong></p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>android.support:design:27.1.0 버전 implement 하기</strong></p>

    <p>build.gradle(Module: app) 파일에</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/75611848-8b956300-5b61-11ea-92e8-f35566a4bd65.PNG" alt="02" /></p>

    <p>이렇게 작성한 후 sync를 했더니 그대로 빨간줄이 떠있었다.</p>

    <p>오류 내용을 읽어보니 안드로이드 버전 28까지만이 기존의 안드로이드 라이브러리를 지원하는 마지막 버전이고, 29 이후부터는 AndroidX 라이브러리로 이동하라고 쓰여있었다.</p>

    <p>지금 내가 만든 프로젝트가 컴파일되는 SDK 버전이 29여서 그런 것 같았다.</p>

    <p>AndroidX 라이브러리로 이동하는 방법은 안드로이드 스튜디오에서 Refactor –&gt; Migrate to AndroidX 를 누르라고 되어있었다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/75611925-2d1cb480-5b62-11ea-83b9-917ca9e11bab.PNG" alt="03" /></p>

    <p>그랬더니 이렇게 refactoring 되는 부분을 보여주면서 AndroidX 라이브러리로 바뀌는 2개의 라이브러리를 보여주었다.</p>

    <p>이 2개의 라이브러리를 모두 화살표로 가리킨 Do Refactor을 클릭하여 Migrate 시켜주었더니 빨간줄이 사라졌다!</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>머티리얼 디자인 가이드보고 따라하기</strong></p>

    <p>찾아보니 android.support 라이브러리는 머티리얼 디자인 사용자 인터페이스 추천사항 구현을 위한 여러 클래스를 제공한다고 한다.</p>

    <p>그러니 머터리얼 디자인 도큐먼트에 Bottom Navigation이 있는지도 찾아보자!</p>

    <p><a href="https://material.io/develop/android/components/bottom-navigation-view/">머티리얼 디자인 Bottom Navigation 가이드</a> 가 있다!</p>

    <p>이제 이 가이드를 읽어보자.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/75611957-808f0280-5b62-11ea-8351-459cebff3e94.PNG" alt="04" /></p>

    <p>가이드를 읽어보니 BottomNavigationView는 위와 같은 <strong>bottom navigation bar를 만들어주는 뷰</strong> 이고, 이 bottom navigation bar는 각 탭에 연결된 뷰들을 쉽게 바꿀 수 있도록 도와주는 역할을 한다고 설명되어 있다.</p>

    <p>이 때, 각 탭에 연결된 뷰들은 어플을 처음 실행시켰을 때 가장 맨 위에 있는 top-level 뷰인 경우이다.</p>

    <p>이 bottom navigation bar는 어플이 3개 ~ 5개의 top-level뷰를 가지고 있어야 할 때 사용되는 패턴이다.</p>

    <p>그럼 이제 머티리얼 디자인 가이드 문서에 나와있는 Bottom Navigation Bar 만드는 법에 대해 알아보자.</p>

    <p><br /></p>
  </li>
</ol>

<h1 id="-bottom-navigation-bar-만드는-법">✋ Bottom Navigation Bar 만드는 법</h1>

<ol>
  <li>
    <p><strong>Bottom Navigation Bar에서 탭이 될 메뉴 resource를 최대 5개까지 만든다. (5개 이상은 불가하다.)</strong></p>

    <p>먼저 안드로이드 스튜디오의 res 폴더를 우클릭한 후, New –&gt; Android Resource Directory 를 클릭한다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/75612052-77526580-5b63-11ea-962b-aba33d827de5.PNG" alt="05" /></p>

    <p>그러면 이런 창이 나오는데 이 때 type을 꼭 menu로 바꿔주어야 한다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/75612065-92bd7080-5b63-11ea-9e46-e785a74cb942.PNG" alt="06" /></p>

    <p>그러면 이렇게 res폴더 내에 새로운 menu 폴더가 생성되게 된다.</p>

    <p>이 menu 폴더를 다시 우클릭 후, New –&gt; Menu resource file를 클릭하면</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/75612085-ca2c1d00-5b63-11ea-81b6-31d5a4258cfa.PNG" alt="07" /></p>

    <p>다음과 같은 창이 나온다. 파일의 이름을 결정하고 파일을 만들면 된다!</p>

    <p>이와 같은 과정은 <a href="https://developer.android.com/reference/android/support/design/widget/BottomNavigationView.html#inherited-constants">Bottom Navigation View 도큐먼트</a> 의</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/75612118-052e5080-5b64-11ea-8082-d9d21251c0cf.PNG" alt="08" /></p>

    <p>저 빨간 동그라미 부분을 보고 만든 것이다!</p>

    <p>이제 menu 폴더 안에 새롭게 만든 xml 에 위와 같은 코드를 똑같이 작성해보자.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/75612140-2ee77780-5b64-11ea-9c83-85335cb1f6c7.PNG" alt="09" /></p>

    <p>그러면 이렇게 빨간색으로 마구 표시가 될 것이다.</p>

    <p>이유는 예시를 그대로 복사했기 때문에 내 프로젝트에는 아직 예시에서 사용한 아이콘이나 문자열들이 없기 때문이다.</p>

    <p>여기서 icon은 Bottom Navigation Bar에서</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/75612191-9ef5fd80-5b64-11ea-989e-af7194ae397e.PNG" alt="10" /></p>

    <p>이 부분에 들어갈 icon을 말하고, title은</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/75612188-9dc4d080-5b64-11ea-801c-27b96d5b2e48.PNG" alt="11" /></p>

    <p>이 부분에 들어갈 컨텐츠를 말한다.</p>

    <p>이것들을 내가 개발하고자 하는 UI에 맞게 바꿔주면 된다.</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>BottomNavigationView라는 레이아웃 추가하기</strong></p>

    <p><a href="https://material.io/components/bottom-navigation">머티리얼 디자인 가이드 BottomNavigation</a> 에서는 다음과 같은 형식으로 BottomNavigationView 레이아웃을 추가하라고 되어있다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/75612342-ddd88300-5b65-11ea-9c5a-8323881e0b83.PNG" alt="12" /></p>

    <p>나는 Bottom Navigation Bar를 어플을 시작한 후 첫 화면에 띄울 것이기 때문에 activity_main.xml에 다음과 같이 작성하였다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/75619831-38083100-5bc4-11ea-91d9-6482f4fdf711.PNG" alt="13" /></p>

    <blockquote>
      <p>FrameLayout을 꼭 써주자! Fragment를 교체할 때 필요하기 때문.</p>
    </blockquote>

    <p>BottomNavigationView의 속성으로 이전에 만든 menu를 연결해주는 모습을 볼 수 있다!</p>

    <p>여기까지 하면 이렇게 하단에 BottomNavigationBar가 생기고 각 탭을 클릭할 수 있게 된다!</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/75622653-2df72a00-5be6-11ea-8dc3-5b0c5e695c75.gif" alt="bottomNavigation" /></p>

    <blockquote>
      <p>Material Design의 버전이 업그레이드 될 때마다 같은 Bottom Navigation이여도 모션이 조금씩 달라질 수 있다!</p>

      <p><strong>implementation ‘com.google.android.material:material:1.2.0-alpha05’</strong> 을 적용시켰을 때의 Bottom Navigation은</p>

      <p><img src="https://user-images.githubusercontent.com/31889335/78767342-6fd57600-79c5-11ea-80ea-cda70d17c71b.gif" alt="BottomNavigation2" /></p>

      <p>이렇게 bottom Navigation item을 눌렀을 때 모션이 기존의 모션과 조금 달라진 것을 확인할 수 있다!!</p>
    </blockquote>

    <p><br /></p>
  </li>
  <li>
    <p><strong>Bottom navigation의 icon과 text 색깔 바꾸기</strong></p>

    <p>만약 Bottom navigation의 각 탭을 눌렀을 경우와 누르지 않았을 경우 색을 다르게 하고 싶다면 selector를 이용하면 된다.</p>

    <p>이 때, selector는 res 폴더 안에 color라는 폴더를 새로 생성하고 이 안에 xml 로 만들어야 한다.</p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c">&lt;!-- color 폴더 안에 bottom_navigation_colors.xml이라는 selector를 만든 모습 --&gt;</span>
 <span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
 <span class="nt">&lt;selector</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span><span class="nt">&gt;</span>
     <span class="nt">&lt;item</span>
         <span class="na">android:state_checked=</span><span class="s">"true"</span>
         <span class="na">android:color=</span><span class="s">"@color/colorAccent"</span> <span class="nt">/&gt;</span>
     <span class="nt">&lt;item</span>
         <span class="na">android:state_checked=</span><span class="s">"false"</span>
         <span class="na">android:color=</span><span class="s">"#ffffff"</span> <span class="nt">/&gt;</span>
 <span class="nt">&lt;/selector&gt;</span>
</code></pre></div>    </div>

    <p>그 후,</p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nt">&lt;com.google.android.material.bottomnavigation.BottomNavigationView</span>
 <span class="na">android:id=</span><span class="s">"@+id/bottomNavigationBar"</span>
 <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
 <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
 <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">"parent"</span>
 <span class="na">android:layout_width=</span><span class="s">"0dp"</span>
 <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
 <span class="na">app:menu=</span><span class="s">"@menu/bottom_nav_items"</span>
 <span class="na">android:background=</span><span class="s">"@color/colorPrimary"</span>
 <span class="na">app:itemTextColor=</span><span class="s">"@color/bottom_navigation_colors"</span>
 <span class="na">app:itemIconTint=</span><span class="s">"@color/bottom_navigation_colors"</span> <span class="nt">/&gt;</span>
</code></pre></div>    </div>

    <p>처럼 itemTextColor라는 속성과 itmeIconTint라는 속성에 selector를 적용시켜 주면 된다!</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>Fragment과 bottom navigation의 메뉴 item을 연결하기</strong></p>

    <blockquote>
      <p>–&gt; <a href="https://www.youtube.com/watch?v=5EZZroOg4eU">참고한 유튜브 영상</a></p>
    </blockquote>

    <p><br /></p>

    <ul>
      <li>
        <p>일단 Bottom Navigation에서 사용한 item 갯수 만큼의 Fragment를 생성한다.</p>

        <p><img src="https://user-images.githubusercontent.com/31889335/78767931-2f2a2c80-79c6-11ea-85fd-d7e89e7dce29.PNG" alt="14" /></p>

        <p>이렇게 필요한 3개의 Fragment를 각각 만들어주었다.</p>

        <p><br /></p>
      </li>
      <li>
        <p>그 다음 Bottom Navigation이 있는 Activity 파일에서 Fragment를 교체해주는 함수를 작성한다.</p>

        <p><img src="https://user-images.githubusercontent.com/31889335/78769351-381bfd80-79c8-11ea-8cfc-96be71b80ba3.PNG" alt="16" /></p>

        <p>이렇게 private 함수로 replaceFragment 라는 함수를 만들었다.</p>

        <p>이 함수는 인자로 들어오는 Fragment로 기존의 Fragment를 교체해주는 함수이다.</p>

        <p>이 함수에서 화살표로 가리킨 부분은 교체될 Fragment가 위치하는 부분을 말한다.</p>

        <p>따라서 위 코드에서 Fragment가 위치하는 부분은 아래 코드에서 frameLayout이다.</p>

        <p><img src="https://user-images.githubusercontent.com/31889335/78769489-66014200-79c8-11ea-9a71-bfce8f7055a3.PNG" alt="15" /></p>

        <p><br /></p>
      </li>
      <li>
        <p>마지막으로 <strong>setOnNavigationItemSelectedListener</strong> 를 이용해 Bottom Navigation의 item이 선택되었을 경우 실행되는 이벤트 리스너를 만들어주면 된다.</p>

        <p><img src="https://user-images.githubusercontent.com/31889335/78768761-56cdc480-79c7-11ea-8d89-b9a72294ef7b.PNG" alt="17" /></p>

        <p>위에서도 계속 참고했던 Bottom Navigation Material 디자인 가이드를 보면 위와 같이 Usage라고 쓰여있는 부분에 네 번째 단계로</p>

        <p><strong>setOnNavigationItemSelectedListener</strong> 을 사용해서 이벤트를 감지하라고 나와있다.</p>

        <p>따라서 다음과 같이 setOnNavigationItemSelectedListener를 작성해주면 완성이다~</p>

        <p><img src="https://user-images.githubusercontent.com/31889335/78769828-c85a4280-79c8-11ea-9073-4fb4c20ec799.PNG" alt="18" /></p>

        <p><br /></p>

        <p><img src="https://user-images.githubusercontent.com/31889335/78770253-49193e80-79c9-11ea-908f-5191d319b6e8.gif" alt="BottomNavigation3" /></p>

        <p>이렇게 Bottom Navigation의 각 메뉴 아이템에 Fragment가 연결된 것이 완성되었다~~</p>

        <p><br /></p>
      </li>
    </ul>
  </li>
</ol>


  </article>

  <div id="comment">
    <script src="https://utteranc.es/client.js"
      repo="choheeis/blog-comments"
      issue-term="pathname"
      theme="github-light"
      crossorigin="anonymous"
      async>
    </script>
  </div>
</div>

<!--  -->

        <footer>
  &copy; 2021 김초희. Powered by <a href="http://jekyllrb.com/">Jekyll</a>, <a href="http://github.com/renyuanz/leonids/">leonids theme</a>
</footer>

      </div>
    </div>
  </div>
  <script type="text/javascript" src="http://localhost:4000/js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="http://localhost:4000/js/main.js"></script>


</body>
</html>
