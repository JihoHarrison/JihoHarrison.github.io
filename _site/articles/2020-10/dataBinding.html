<!DOCTYPE html>
<html lang="en">





<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="1️⃣ Data Binding 이란?Data binding에 대해 알아보기 전에, 이전 포스팅 - View Binding 를 먼저 읽어보는 것이 앞으로 알아볼 Data Binding 을 더 쉽게 이해할 수 있을 것이다.  아래에서 설명할 내용들은 모두 Android Develope...">
  <meta name="keywords" content="blog and jekyll">
  <meta name="author" content="[안드로이드] 🙇🏻‍♀️ Data Binding | choheeis">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#f5f5f5">

  <!-- Twitter Tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="[안드로이드] 🙇🏻‍♀️ Data Binding | choheeis">
  <meta name="twitter:description" content="1️⃣ Data Binding 이란?Data binding에 대해 알아보기 전에, 이전 포스팅 - View Binding 를 먼저 읽어보는 것이 앞으로 알아볼 Data Binding 을 더 쉽게 이해할 수 있을 것이다.  아래에서 설명할 내용들은 모두 Android Develope...">
  
    <meta property="twitter:image" content="http://localhost:4000/img/leonids-logo.png">
  

  <!-- Open Graph Tags -->
  <meta property="og:type" content="blog">
  <meta property="og:url" content="http://localhost:4000/articles/2020-10/dataBinding">
  <meta property="og:title" content="[안드로이드] 🙇🏻‍♀️ Data Binding | choheeis">
  <meta property="og:description" content="1️⃣ Data Binding 이란?Data binding에 대해 알아보기 전에, 이전 포스팅 - View Binding 를 먼저 읽어보는 것이 앞으로 알아볼 Data Binding 을 더 쉽게 이해할 수 있을 것이다.  아래에서 설명할 내용들은 모두 Android Develope...">
  
    <meta property="og:image" content="http://localhost:4000/img/leonids-logo.png">
  
  <title>[안드로이드] 🙇🏻‍♀️ Data Binding | choheeis</title>

  <!-- CSS files -->
  <link rel="stylesheet" href="http://localhost:4000/css/font-awesome.min.css">
  <link rel="stylesheet" href="http://localhost:4000/css/main.css">

  <link rel="canonical" href="http://localhost:4000/articles/2020-10/dataBinding">
  <link rel="alternate" type="application/rss+xml" title="choheeis" href="http://localhost:4000/feed.xml" />

  <!-- Icons -->
  <!-- 16x16 -->
  <link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
  <!-- 32x32 -->
  <link rel="shortcut icon" href="http://localhost:4000/favicon.png">
</head>


<body>
  <div class="row">
    <div class="col s12 m3">
      <div class="table cover">
        

<div class="cover-card table-cell table-middle">
  
  <a href="http://localhost:4000/">
    <img src="http://localhost:4000/img/avatar.png" alt="" class="avatar">
  </a>
  
  <a href="http://localhost:4000/" class="author_name">김초희</a>
  <span class="author_job">나는야 안드로이드 개발자 꿈나무 🍎</span>
  <span class="author_bio mbm">구경하러 오신 분들 모두 좋은 하루 되세요 🍉</span>
  <nav class="nav">
    <ul class="nav-list">
      <li class="nav-item">
        <a href="http://localhost:4000/">home</a>
      </li>
       
      <li class="nav-item">
        <a href="http://localhost:4000/archive/">Archive</a>
      </li>
            
      <li class="nav-item">
        <a href="http://localhost:4000/categories/">Categories</a>
      </li>
          
      <li class="nav-item">
        <a href="http://localhost:4000/resume/">Resume</a>
      </li>
          
      <li class="nav-item">
        <a href="http://localhost:4000/tags/">Tags</a>
      </li>
       
    </ul>
  </nav>
  <script type="text/javascript">
  // based on http://stackoverflow.com/a/10300743/280842
  function gen_mail_to_link(hs, subject) {
    var lhs,rhs;
    var p = hs.split('@');
    lhs = p[0];
    rhs = p[1];
    document.write("<a class=\"social-link-item\" target=\"_blank\" href=\"mailto");
    document.write(":" + lhs + "@");
    document.write(rhs + "?subject=" + subject + "\"><i class=\"fa fa-fw fa-envelope\"></i><\/a>");
  }
</script>
<div class="social-links">
  <ul>
    
      <li>
      <script>gen_mail_to_link('chchgml10@gmail.com', 'Hello from website');</script>
      </li>
    
    
    
    
    
    
    
    <li><a href="http://instagram.com/chooeeh" class="social-link-item" target="_blank"><i class="fa fa-fw fa-instagram"></i></a></li>
    
    <li><a href="http://github.com/choheeis" class="social-link-item" target="_blank"><i class="fa fa-fw fa-github"></i></a></li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </ul>
</div>

</div>

      </div>
    </div>
    <div class="col s12 m9">
      <div class="post-listing">
        <a class="btn" href= "http://localhost:4000/" >
  Home
</a>



<div id="post">
  <header class="post-header">
    <h1 title="[안드로이드] 🙇🏻‍♀️ Data Binding">[안드로이드] 🙇🏻‍♀️ Data Binding</h1>
    <span class="post-meta">
      <span class="post-date">
        23 OCT 2020
      </span>
      •
      <span class="read-time" title="Estimated read time">
  
  
    5 mins read
  
</span>

    </span>

  </header>

  <article class="post-content">
    <h2 id="1️⃣-data-binding-이란">1️⃣ Data Binding 이란?</h2>

<p>Data binding에 대해 알아보기 전에, <a href="https://choheeis.github.io/newblog//articles/2020-09/viewBinding">이전 포스팅 - View Binding</a> 를 먼저 읽어보는 것이 앞으로 알아볼 Data Binding 을 더 쉽게 이해할 수 있을 것이다.</p>

<blockquote>
  <p>아래에서 설명할 내용들은 모두 <a href="https://developer.android.com/topic/libraries/data-binding">Android Developer - Data binding 개요</a> 문서를 바탕으로 작성될 것이다.</p>
</blockquote>

<p>이제 Data Binding에 대해 설명하기 위해 View Binding을 예로 들어보자.</p>

<p>xml 파일에 정의해놓은 뷰들을 <strong>실제 메모리에 올리고 코드로 조작할 수 있게 하기 위해 해야하는 몇 가지 작업</strong> 을 이전보다 쉽게 할 수 있도록 해주는 기능이 <strong>View Binding</strong> 이였다.</p>

<p>이러한 View Binding 과 비슷하게 <strong>Data Binding 은 어떠한 뷰에 보여질 데이터들을 연결하는 작업을 이전보다 쉽게 할 수 있도록 지원하는 기능</strong> 이다!</p>

<p>예를 들어, 지금까지의 안드로이드 개발 과정에서 인사말을 보여주는 textView 에 viewModel에서 받아온 “안녕하세요” 라는 String 데이터를 보여주기 위해 작성한 코드가 아래와 같다고 가정해보자.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tv_hello</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="n">viewModel</span><span class="p">.</span><span class="n">hello</span>
</code></pre></div></div>

<p>그런데 Data Binding 기능을 사용하는 프로젝트에서는</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;TextView</span>
    <span class="na">android:text=</span><span class="s">"@{viewmodel.hello}"</span> <span class="nt">/&gt;</span>
</code></pre></div></div>

<p>위와 같이 코틀린(or 자바) 코드 대신 xml 파일 안에서 바로 데이터를 연결시켜줄 수 있게 된다!</p>

<p>즉, <strong>Data Binding</strong> 은 이전에는 코드로 UI 뷰 객체를 직접 정의하고 직접 데이터를 연결시켜줘야 했던 불편함을 해결해주는 기능이라고 할 수 있다.</p>

<p>바로 layout 파일인 xml 파일 내에서 데이터를 연결할 수 있기 때문에 UI 뷰 객체를 선언하거나 연결하는 코드 자체가 필요 없게 된다😎</p>

<blockquote>
  <p>와우.. 진짜 대박이다</p>
</blockquote>

<h2 id="2️⃣-data-binding-을-사용하기-위한-세팅">2️⃣ Data Binding 을 사용하기 위한 세팅</h2>

<p>Data Binding이 무엇인지 대략적으로 알게 되었으면 실제로 Data Binding을 사용하는 프로젝트를 만들어보자.</p>

<blockquote>
  <p>아래에서 설명할 모든 내용은 <a href="https://developer.android.com/topic/libraries/data-binding/start">Android Developer - Data Binding 시작하기</a> 문서를 참고하여 작성할 것이다.</p>
</blockquote>

<p>가장 먼저 Data Binding 기능을 사용하겠다는 세팅을 해주기 위해</p>

<p>app 모듈의 build.gradle 파일에 아래와 같은 코드를 추가해야한다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>android {
        ...
        buildFeatures {
            dataBinding true
        }
}
</code></pre></div></div>

<h2 id="3️⃣-data-binding-사용하기">3️⃣ data binding 사용하기</h2>

<ol>
  <li>
    <p><strong>xml 파일 구성하기</strong></p>

    <p>data binding을 사용하여 xml 파일 내에서 바로 데이터를 연결시키기 위해서는 기존의 xml 파일을 작성하던 방식과 조금 다르게 작성해야 한다.</p>

    <p>먼저 xml 파일을 구성하는 루트 태그는 <strong>&lt;layout&gt;</strong> 이어야 하고, 이 &lt;layout&gt; 태그 안에 xml 파일 내에서 연결한 데이터를 표시하는 <strong>&lt;data&gt;</strong> 태그와 다른 뷰 태그들이 위치하게 된다.</p>

    <p>다음은 data binding을 사용하여 activity_main.xml 파일에 작성한 코드이다.</p>

    <p><img width="514" alt="01" src="https://user-images.githubusercontent.com/31889335/97318460-3e63bf80-18af-11eb-8d7f-f2750f97a36c.png" /></p>

    <p>위 코드를 보면 루트 태그가 &lt;layout&gt; 태그로 되어 있고, 그 안에 &lt;data&gt; 태그 부분과 &lt;ConstraintLayout&gt; 태그 부분이 들어가 있는 것을 확인할 수 있다.</p>

    <p>기존 xml 파일을 작성할 때는 루트 태그에 바로 &lt;ConstraintLayout&gt; 같은 태그를 사용했었는데 data binding 을 사용할 때는 루트 태그를 &lt;layout&gt; 태그로 먼저 크게 감싼 후, 그 안에 데이터와 뷰들을 작성하는 방식이라는 것을 이해할 수 있을 것이다.</p>

    <p>하지만 &lt;layout&gt; 태그는 데이터와 뷰를 감싸주는 역할만 할 뿐 ConstraintLayout이나 LinearLayout 처럼 Android 앱 개발에 직접 사용되는 Layout은 아니다. 따라서 어떤 xml 파일에 &lt;layout&gt; 태그만 존재한다면 컴파일러는 에러를 발생시킬 것이다.</p>

    <p>반드시 &lt;layout&gt; 태그는 &lt;ConstraintLayout&gt; 와 같은 실제 레이아웃을 포함해야 한다.</p>

    <p>위 코드의 빨간 표시는 일단 무시하자! (먼저 처리해주어야 하는 과정을 설명을 위해 나중으로 미뤄서 그렇다!)</p>

    <p>&lt;data&gt; 태그는 해당 xml 파일에서 데이터 연결을 위해 변수처럼 사용할 것들을 정의하는 태그이다.</p>

    <p>&lt;data&gt; 태그 안에 &lt;variable&gt; 이라는 “변수” 태그가 존재하고, 이 태그의 속성으로 name과 type을 지정해주면 된다.</p>

    <p>이 부분은 아래 내용을 통해 더 자세히 알아보자!</p>

    <p>또한 xml 안에서 사용되는 여러 속성들의 속성값으로 &lt;data&gt; 태그 안에서 정의해준 변수들을 사용하려면 <strong>@{}</strong> 구문을 사용하면 된다.</p>
  </li>
  <li>
    <p><strong>데이터 클래스 작성하기</strong></p>

    <p>위에서 살펴본 activity_main.xml 파일에서 빨간 표시(오류 표시)가 되어 있던</p>

    <p><img width="384" alt="02" src="https://user-images.githubusercontent.com/31889335/97320031-c5656780-18b0-11eb-8151-a5274298b6e7.png" /></p>

    <p>이 부분에 대해 알아보자.</p>

    <p>사실은 data class 타입의 User 라는 이름의 데이터 객체가 존재하여야 위 user 데이터 변수를 xml 파일에 정의할 수 있다.</p>

    <p>따라서 다음과 같은 firstName과 lastName이라는 필드를 가지고 있는 User라는 data class를 생성해보자.</p>

    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">data class</span> <span class="nc">User</span> <span class="p">(</span><span class="kd">val</span> <span class="py">firstName</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="kd">val</span> <span class="py">lastName</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span>
</code></pre></div>    </div>

    <p>이제 다음 코드가 이해될 것이다!</p>

    <p><img width="384" alt="02" src="https://user-images.githubusercontent.com/31889335/97320031-c5656780-18b0-11eb-8151-a5274298b6e7.png" /></p>

    <p>이 코드는 해당 xml 파일 안에서 user 라는 이름의 데이터를 변수처럼 사용할 것이라는 뜻이다.</p>

    <p>이 때, user 라는 이 변수의 타입은 위에서 생성한 User 라는 데이터 객체 타입임을 type 속성에 작성해준 것이다.</p>

    <p>그럼 아래 코드에서의 빨간 표시도 이해가 될 것이다.</p>

    <p><img width="534" alt="03" src="https://user-images.githubusercontent.com/31889335/97321448-38231280-18b2-11eb-9e14-e56a65b868c2.png" /></p>

    <p>위 코드에서 text 속성의 속성값이였던 user.firstName과 user.lastName은 User 데이터 클래스의 firstName과 lastName 이라는 필드를 가리킨다는 것을 알 수 있다.</p>

    <p>즉, User 데이터 클래스를 생성하고 나면 activity_main.xml 파일 안의 빨간 오류 표시들이 모두 사라지게 된다!</p>
  </li>
  <li>
    <p><strong>xml 파일 inflate 시키기</strong></p>

    <p>위 두 단계를 거쳐 activity_main.xml 파일을 완성했으면 MainActivity.kt 파일에 이 xml 을 연결해야 정상적으로 앱을 실행했을 때 원하는 화면이 출력될 것이다.</p>

    <p>data binding도 view binding과 마찬가지로 각 xml 파일마다 binding class가 자동으로 생성되게 된다.</p>

    <p>다만, view binding에서의 binding class와 다른 점은 data binding에서의 binding class에는 뷰에 대한 binding 정보 뿐만 아니라 <strong>&lt;data&gt; 태그에서 정의된 데이터 변수들에 대한 binding 정보도 포함</strong> 되어 있다는 것이다!</p>

    <p>이제 MainActivity.kt 파일의 onCreate 콜백 메소드에 activity_main.xml 파일을 inflate 시켜보자!</p>

    <p><img width="808" alt="04" src="https://user-images.githubusercontent.com/31889335/97323526-3bb79900-18b4-11eb-9fca-df6794b75fa2.png" /></p>

    <p>위 코드와 같이 binding class를 인스턴스화 하는 과정에서 DataBindingUtil 이라는 클래스 안의 setContentView() 메소드를 통해 활성 뷰를 activity_main.xml 로 설정하면 된다.</p>

    <p>그 다음, activity_main.xml 파일에서 데이터 변수로 사용되었던 user이 실제로 어떤 데이터인지 명시해주면 된다!</p>

    <p><img width="336" alt="05" src="https://user-images.githubusercontent.com/31889335/97323883-9650f500-18b4-11eb-84dc-8347529bc11a.png" /></p>

    <p>DataBindingUtil 클래스를 사용하는 방법 외에도 inflate 하는 방법은 두 가지 정도가 더 있다!</p>

    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">val</span> <span class="py">binding</span><span class="p">:</span> <span class="n">ActivityMainBinding</span> <span class="p">=</span> <span class="n">ActivityMainBinding</span><span class="p">.</span><span class="n">inflate</span><span class="p">(</span><span class="n">getLayoutInflater</span><span class="p">())</span>
</code></pre></div>    </div>

    <p>만약 Fragment나 RecyclerView Adapter에서 데이터 바인딩을 사용한다면</p>

    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">val</span> <span class="py">listItemBinding</span> <span class="p">=</span> <span class="n">ListItemBinding</span><span class="p">.</span><span class="n">inflate</span><span class="p">(</span><span class="n">layoutInflater</span><span class="p">,</span> <span class="n">viewGroup</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
 <span class="c1">// or
</span> <span class="kd">val</span> <span class="py">listItemBinding</span> <span class="p">=</span> <span class="n">DataBindingUtil</span><span class="p">.</span><span class="n">inflate</span><span class="p">(</span><span class="n">layoutInflater</span><span class="p">,</span> <span class="n">R</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">list_item</span><span class="p">,</span> <span class="n">viewGroup</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
</code></pre></div>    </div>

    <p>이와 같이 inflate 해줄 수도 있다.</p>
  </li>
</ol>

<h2 id="4️⃣-data-binding에-사용되는-표현식-언어">4️⃣ data binding에 사용되는 표현식 언어</h2>

<p>표현식 언어(expression language)란 위 예시에서도 @{user.firstName}으로 사용되었던 <strong>@{}</strong> 구문 안을 이루고 있던 식에 관한 언어이다.</p>

<p>표현식 언어에 대한 것은 <a href="https://developer.android.com/topic/libraries/data-binding/expressions?hl=ko">여기</a> 문서의 표현식 언어 부분을 참고하자!</p>

<p>정말 많은 표현들이 있다..!</p>

<h1 id="끝">끝!</h1>

<p>이 포스팅을 보고 data binding에 대해 전부 알 수는 없지만(알아야 할 것들이 조금 더 많이 있음ㅎㅎ) 대략적으로 data binding이 이런것이다~ 정도는 알 수 있을 것이다! 😃</p>

  </article>

  <div id="comment">
    <script src="https://utteranc.es/client.js"
      repo="choheeis/blog-comments"
      issue-term="pathname"
      theme="github-light"
      crossorigin="anonymous"
      async>
    </script>
  </div>
</div>

<!--  -->

        <footer>
  &copy; 2021 김초희. Powered by <a href="http://jekyllrb.com/">Jekyll</a>, <a href="http://github.com/renyuanz/leonids/">leonids theme</a>
</footer>

      </div>
    </div>
  </div>
  <script type="text/javascript" src="http://localhost:4000/js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="http://localhost:4000/js/main.js"></script>


</body>
</html>
