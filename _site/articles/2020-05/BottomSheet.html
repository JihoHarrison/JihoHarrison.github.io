<!DOCTYPE html>
<html lang="en">





<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="  머터리얼 디자인 Sheets: bottom 와 Bottom Sheets Android 을 참고한 포스팅!📰 Bottom Sheet 가 뭘까~?구글 머티리얼 디자인의 컴포넌트 중 하나인 BottomSheet 만드는 법을 알아보기 전에 BottomSheet가 무엇인지 알아보자!Bo...">
  <meta name="keywords" content="blog and jekyll">
  <meta name="author" content="[안드로이드] 📰 Bottom Sheet 만드는 나만의 라이브러리 | choheeis">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#f5f5f5">

  <!-- Twitter Tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="[안드로이드] 📰 Bottom Sheet 만드는 나만의 라이브러리 | choheeis">
  <meta name="twitter:description" content="  머터리얼 디자인 Sheets: bottom 와 Bottom Sheets Android 을 참고한 포스팅!📰 Bottom Sheet 가 뭘까~?구글 머티리얼 디자인의 컴포넌트 중 하나인 BottomSheet 만드는 법을 알아보기 전에 BottomSheet가 무엇인지 알아보자!Bo...">
  
    <meta property="twitter:image" content="http://localhost:4000/img/leonids-logo.png">
  

  <!-- Open Graph Tags -->
  <meta property="og:type" content="blog">
  <meta property="og:url" content="http://localhost:4000/articles/2020-05/BottomSheet">
  <meta property="og:title" content="[안드로이드] 📰 Bottom Sheet 만드는 나만의 라이브러리 | choheeis">
  <meta property="og:description" content="  머터리얼 디자인 Sheets: bottom 와 Bottom Sheets Android 을 참고한 포스팅!📰 Bottom Sheet 가 뭘까~?구글 머티리얼 디자인의 컴포넌트 중 하나인 BottomSheet 만드는 법을 알아보기 전에 BottomSheet가 무엇인지 알아보자!Bo...">
  
    <meta property="og:image" content="http://localhost:4000/img/leonids-logo.png">
  
  <title>[안드로이드] 📰 Bottom Sheet 만드는 나만의 라이브러리 | choheeis</title>

  <!-- CSS files -->
  <link rel="stylesheet" href="http://localhost:4000/css/font-awesome.min.css">
  <link rel="stylesheet" href="http://localhost:4000/css/main.css">

  <link rel="canonical" href="http://localhost:4000/articles/2020-05/BottomSheet">
  <link rel="alternate" type="application/rss+xml" title="choheeis" href="http://localhost:4000/feed.xml" />

  <!-- Icons -->
  <!-- 16x16 -->
  <link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
  <!-- 32x32 -->
  <link rel="shortcut icon" href="http://localhost:4000/favicon.png">
</head>


<body>
  <div class="row">
    <div class="col s12 m3">
      <div class="table cover">
        

<div class="cover-card table-cell table-middle">
  
  <a href="http://localhost:4000/">
    <img src="http://localhost:4000/img/avatar.png" alt="" class="avatar">
  </a>
  
  <a href="http://localhost:4000/" class="author_name">김초희</a>
  <span class="author_job">나는야 안드로이드 개발자 꿈나무 🍎</span>
  <span class="author_bio mbm">구경하러 오신 분들 모두 좋은 하루 되세요 🍉</span>
  <nav class="nav">
    <ul class="nav-list">
      <li class="nav-item">
        <a href="http://localhost:4000/">home</a>
      </li>
       
      <li class="nav-item">
        <a href="http://localhost:4000/archive/">Archive</a>
      </li>
            
      <li class="nav-item">
        <a href="http://localhost:4000/categories/">Categories</a>
      </li>
          
      <li class="nav-item">
        <a href="http://localhost:4000/resume/">Resume</a>
      </li>
          
      <li class="nav-item">
        <a href="http://localhost:4000/tags/">Tags</a>
      </li>
       
    </ul>
  </nav>
  <script type="text/javascript">
  // based on http://stackoverflow.com/a/10300743/280842
  function gen_mail_to_link(hs, subject) {
    var lhs,rhs;
    var p = hs.split('@');
    lhs = p[0];
    rhs = p[1];
    document.write("<a class=\"social-link-item\" target=\"_blank\" href=\"mailto");
    document.write(":" + lhs + "@");
    document.write(rhs + "?subject=" + subject + "\"><i class=\"fa fa-fw fa-envelope\"></i><\/a>");
  }
</script>
<div class="social-links">
  <ul>
    
      <li>
      <script>gen_mail_to_link('chchgml10@gmail.com', 'Hello from website');</script>
      </li>
    
    
    
    
    
    
    
    <li><a href="http://instagram.com/chooeeh" class="social-link-item" target="_blank"><i class="fa fa-fw fa-instagram"></i></a></li>
    
    <li><a href="http://github.com/choheeis" class="social-link-item" target="_blank"><i class="fa fa-fw fa-github"></i></a></li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </ul>
</div>

</div>

      </div>
    </div>
    <div class="col s12 m9">
      <div class="post-listing">
        <a class="btn" href= "http://localhost:4000/" >
  Home
</a>



<div id="post">
  <header class="post-header">
    <h1 title="[안드로이드] 📰 Bottom Sheet 만드는 나만의 라이브러리">[안드로이드] 📰 Bottom Sheet 만드는 나만의 라이브러리</h1>
    <span class="post-meta">
      <span class="post-date">
        2 MAY 2020
      </span>
      •
      <span class="read-time" title="Estimated read time">
  
  
    4 mins read
  
</span>

    </span>

  </header>

  <article class="post-content">
    <blockquote>
  <p><a href="https://material.io/components/sheets-bottom">머터리얼 디자인 Sheets: bottom</a> 와 <a href="https://material.io/develop/android/components/bottom-sheet-behavior/">Bottom Sheets Android</a> 을 참고한 포스팅!</p>
</blockquote>

<p><br /></p>

<h2 id="-bottom-sheet-가-뭘까">📰 Bottom Sheet 가 뭘까~?</h2>
<hr />

<p>구글 머티리얼 디자인의 컴포넌트 중 하나인 BottomSheet 만드는 법을 알아보기 전에 BottomSheet가 무엇인지 알아보자!</p>

<p><img src="https://user-images.githubusercontent.com/31889335/80859165-8192fc00-8c99-11ea-8440-4e4b5c8d869a.PNG" alt="01" /></p>

<p>BottomSheet는 위와 같이 화면의 아래에 걸려있는 화면을 말한다.</p>

<p>이러한 BottomSheet를 사용하면 좋은 경우에는 3가지 경우가 있다.</p>

<ol>
  <li>
    <p><strong>기본적인 Bottom Sheets 를 만들어야 할 경우</strong></p>

    <p>어떠한 화면의 보충 기능들을 Bottom Sheets에 담아둘 수 있다.</p>

    <p>다음 그림과 같이 유저가 bottom sheet 아래의 화면과 상호작용하는 동안에도 bottom sheet가 보이고 있게 할 수도 있다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80859356-24984580-8c9b-11ea-994a-2873e49e2ec6.PNG" alt="02" /></p>

    <p>따라서 간단한 멀티테스킹 기능이 필요할 때 유용하다.</p>

    <p>위 그림에서는 음악 앨범들의 리스트를 볼 수 있음과 동시에 음악의 정지 및 시작 기능을 bottom sheet를 통해 조작할 수 있는 경우이다.</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>모달(Modal) bottom sheets 를 만들어야 할 경우</strong></p>

    <p>다음 그림과 같은 모달 bottom sheets는 메뉴 기능이나 간단한 다이얼로그 기능을 대체할 수 있는 화면이다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80859430-f7986280-8c9b-11ea-80ce-5a61dcfda9e9.PNG" alt="03" /></p>

    <p>모달 역할로써 bottom sheets를 사용하는 경우에는 bottom sheets 화면이 원래 화면을 그림자 처리 함으로써 bloking(막음) 한다.</p>

    <p>따라서 반드시 bottom sheets를 통한 상호작용이 끝나면 화면에서 해산시켜야 한다. –&gt; 원래 화면을 다시 사용할 수 있도록 bottom Sheets를 확실히 내려버려야 한다는 뜻.</p>

    <p>또한 만약 유저가 그림자 처리된 뒷 화면을 누르면 모달 Bottom Sheet는 사라지게 된다.</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>확장 Bottom Sheets 를 만들어야 할 경우</strong></p>

    <p>다음 그림과 같은 확장 Bottom Sheets 는 작지만 유저가 확장시킬 수 있는 화면이다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80859601-2b27bc80-8c9d-11ea-89f2-63b8a507d44c.PNG" alt="04" /></p>

    <p>유저가 이 작은 확장 bottom sheet를 누르면 <a href="https://kstatic.googleusercontent.com/files/90f33f120dc01c83ff66bc84035d370c56435a5ffc3687a601d222524b709ec62949d290e311a577a57cd025aaf0d26e426a3b06ec16e93c86c9ee0423aa8d10">이와 같이</a> 작동하게 된다.</p>

    <p><br /></p>
  </li>
</ol>

<p>위와 같이 Bottom Sheet를 사용할 수 있는 3가지 경우에 대해서 알아보았다.</p>

<p>이제 3가지 경우 중 ‘모달 bottom sheet’ 를 만드는 방법을 알아보자!</p>

<p><br /></p>

<h2 id="-모달-bottom-sheet-만드는-나만의-라이브러뤼">📰 모달 Bottom Sheet 만드는 나만의 라이브러뤼~</h2>
<hr />

<p>Modal Bottom Sheet는 <strong>BottomSheetDialogFragment</strong> 라고도 부른다는 것을 알아두고 <a href="https://material.io/develop/android/components/bottom-sheet-dialog-fragment/">Modal Bottom Sheets : Android</a> 와 <a href="https://www.youtube.com/watch?v=IfpRL2K1hJk">Modal Bottom Sheet Youtube Video</a> 를 참고하여 모달 Bottom Sheet를 어떻게 만드는지 알아보자.</p>

<blockquote>
  <p>BottomSheetDialogFragment class overview –&gt; <a href="https://developer.android.com/reference/com/google/android/material/bottomsheet/BottomSheetDialogFragment">여기</a></p>

  <p>BottomSheetDialogFragment class definition –&gt; <a href="https://github.com/material-components/material-components-android/blob/master/lib/java/com/google/android/material/bottomsheet/BottomSheetDialogFragment.java">여기</a></p>
</blockquote>

<p><br /></p>

<ol>
  <li>
    <p><strong>머티리얼 디자인 종속성 추가하기</strong></p>

    <p>Bottom Sheet는 머티리얼 디자인에 속해있는 컴포넌트이므로 프로젝트에 머티리얼 디자인 종속성을 추가해야 한다.</p>

    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">implementation</span> <span class="err">'</span><span class="n">com</span><span class="p">.</span><span class="n">google</span><span class="p">.</span><span class="n">android</span><span class="p">.</span><span class="n">material</span><span class="p">:</span><span class="n">material</span><span class="p">:</span><span class="m">1.2</span><span class="p">.</span><span class="m">0</span><span class="p">-</span><span class="n">alpha06</span><span class="err">'</span>
</code></pre></div>    </div>

    <blockquote>
      <p>2020/05/02 기준으로 머티리얼 디자인의 최신 버전은 1.2.0-alpha06 이다.</p>
    </blockquote>

    <p><br /></p>
  </li>
  <li>
    <p><strong>Modal Bottom Sheet xml 코드 작성하기</strong></p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80860753-eb64d300-8ca4-11ea-815b-6eca5c070e5f.PNG" alt="05" /></p>

    <p>위와 같이 res 폴더의 layout 폴더 안에 modal bottom sheet가 될 layout.xml 파일을 만든다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80860795-1bac7180-8ca5-11ea-8b3f-23149c076c35.PNG" alt="06" /></p>

    <p>이렇게 modal_bottom_sheet_layout.xml 을 작성하였다!</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>BottomSheetDialogFragment 클래스를 상속하는 클래스 생성하기</strong></p>

    <p><a href="https://developer.android.com/reference/com/google/android/material/bottomsheet/BottomSheetDialogFragment">BottomSheetDialogFragment class overview</a> 를 보면 다음과 같이 BottomSheetDialogFragment 라는 클래스의 기능과 어떤 멤버 함수들이 있는지를 간단히 볼 수 있다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80860830-4f879700-8ca5-11ea-9d9a-a66d015f8dfe.PNG" alt="07" /></p>

    <p>Modal Bottom Sheet는 이 BottomSheetDialogFragment 라는 클래스를 상속하기 때문에 우리도 아래와 같이 BottomSheetDialogFragment를 상속하는 클래스를 만들어주면 된다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80860963-595dca00-8ca6-11ea-8cde-1d88d6443779.PNG" alt="10" /></p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80860875-b016d400-8ca5-11ea-8706-776b834dc7a5.PNG" alt="08" /></p>

    <p><br /></p>

    <p>그 다음, onCreateView() 함수를 오버라이딩하여 처음에 만든 modal_bottom_sheet_layout.xml 을 inflate 하도록 코드를 작성해줘야 한다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80860941-3b906500-8ca6-11ea-811e-e847a74c63bb.PNG" alt="09" /></p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>Modal bottom sheet 올라오게 하기</strong></p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80861073-341d8b80-8ca7-11ea-9a3d-9da9ff44be08.PNG" alt="12" /></p>

    <p>이제 위와 같이 미리 만들어놓은 MainAcitivity의 Button을 누르면 Modal Bottom Sheet가 위로 올라오도록 해보자.</p>

    <p>MainActivity.kt 의 onCreate 함수 안에 다음과 같은 클릭 리스너를 작성하면 된다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/81403244-efde2f80-916d-11ea-9a3e-6be91da1b2f2.PNG" alt="11" /></p>

    <p>이 때, 상속한 BottomSheetDialogFragment 클래스의 멤버 함수인 show() 를 사용하게 된다.</p>

    <p>여기까지 작성한 후, 프로젝트를 build 해보면</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80861169-be65ef80-8ca7-11ea-863c-744c396f874f.jpg" alt="13" /></p>

    <p>‘모달 바텀 시트야 올라와라!’ 라는 버튼을 눌렀을 때 화면 아래에서 Modal Bottom Sheet가 올라오게 된다!</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>모달 Bottom Sheet에서 클릭한 버튼이 어떤 버튼인지에 대한 정보를 MainActivity에 적용시키기</strong></p>

    <p>MainActivity에서 BottomSheetDialog 클래스의 함수를 가져다 사용할 수 있도록 BottomSheetDialog 클래스에 public interface를 하나 만들자.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80862988-14d92b00-8cb4-11ea-9b61-950a81b6810f.PNG" alt="13" /></p>

    <p>위와 같이 이름이 BottomSheetButtonClickListener인 public interface를 BottomSheetDialog 클래스 안에 만든다.</p>

    <p>이 interface 에는 onButtonClicked() 라는 함수를 정의해준다!</p>

    <blockquote>
      <p>인터페이스란?</p>

      <p>인터페이스는 추상 클래스로 구현된 것은 없고 밑그림만 그려져 있는 ‘기본 설계도’ 라고 할 수 있다.</p>

      <p>다형성을 구현하기 위해 사용된다.</p>
    </blockquote>

    <p><br /></p>

    <p>이 onButtonClicked() 함수를 나중에 MainActivity에서 가져다 사용할 것이다.</p>

    <p>그 다음 작업을 하기 위해 알아두어야 할 것이 있다!</p>

    <p>현재 BottomSheetDialog 라는 클래스는 BottomSheetDialogFragment 라는 클래스를 상속하고 있으므로 Fragment 성질을 갖는다.</p>

    <p>프래그먼트는 액티비티 위에 올라갈 때 프래그먼트 life cycle에 의해 onAttach 라는 메소드가 자동으로 호출된다.</p>

    <p>따라서 우리는 MainActivity에서 위에서 만든 interface를 실제로 구현할 것이므로 Fragment의 onAttach 함수안에서 액티비티 객체를 변수에 할당해야 한다.</p>

    <p>따라서 BottomSheetDialog 클래스에서 다음과 같이 onAttached 함수를 오버라이드 해야한다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80863048-65e91f00-8cb4-11ea-8238-0b574d416a62.PNG" alt="14" /></p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80863207-af863980-8cb5-11ea-83a8-4217bc8a4bca.PNG" alt="15" /></p>

    <p>그 다음, BottomSheetDialog 클래스의 onActivityCreated() 함수를 호출하고</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80863243-e0666e80-8cb5-11ea-866a-5d3db54a0710.PNG" alt="16" /></p>

    <p>이와 같이 모달 화면의 두 개의 버튼을 클릭했을 경우 해야하는 작업을 작성해준다.</p>

    <p>이제 마지막으로 MainActivity에서 onButtonClicked() 함수를 오버라이드 하여 이 함수 안에서 수행해야 하는 작업을 작성해주면 된다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80863306-40f5ab80-8cb6-11ea-83a8-1dad4622fca2.PNG" alt="17" /></p>

    <p>이 때, MainActivity 클래스에서 BottomSheetDialog 클래스에서 정의한 interface를 구현함을 명시해줘야 한다!</p>

    <p>여기까지 코드를 작성하고 프로젝트를 build 해보면</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/80863405-f7f22700-8cb6-11ea-9c10-577dc6e3aa31.gif" alt="BottomSheet" /></p>

    <p>이와 같이 모달 Bottom Sheet 에서 클릭한 버튼에 따라 Main 화면의 text가 바뀌는 것을 볼 수 있다~!</p>

    <p><br /></p>
  </li>
</ol>


  </article>

  <div id="comment">
    <script src="https://utteranc.es/client.js"
      repo="choheeis/blog-comments"
      issue-term="pathname"
      theme="github-light"
      crossorigin="anonymous"
      async>
    </script>
  </div>
</div>

<!--  -->

        <footer>
  &copy; 2021 김초희. Powered by <a href="http://jekyllrb.com/">Jekyll</a>, <a href="http://github.com/renyuanz/leonids/">leonids theme</a>
</footer>

      </div>
    </div>
  </div>
  <script type="text/javascript" src="http://localhost:4000/js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="http://localhost:4000/js/main.js"></script>


</body>
</html>
