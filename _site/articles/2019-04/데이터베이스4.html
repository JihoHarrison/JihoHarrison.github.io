<!DOCTYPE html>
<html lang="en">





<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="  서울과학기술대학교 3학년 교과과정으로 배운 “데이터베이스” 시험 공부 및 정리용 포스팅 😆  5강 - Introduction to SQL  🙋 5강에서 설명할 수 있어야 할 것들 🙋      SQL이란?    SQL의 도메인 타입들    기본적인 쿼리 구조      💭 SQL ...">
  <meta name="keywords" content="blog and jekyll">
  <meta name="author" content="[DB] 데이터베이스5 | choheeis">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#f5f5f5">

  <!-- Twitter Tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="[DB] 데이터베이스5 | choheeis">
  <meta name="twitter:description" content="  서울과학기술대학교 3학년 교과과정으로 배운 “데이터베이스” 시험 공부 및 정리용 포스팅 😆  5강 - Introduction to SQL  🙋 5강에서 설명할 수 있어야 할 것들 🙋      SQL이란?    SQL의 도메인 타입들    기본적인 쿼리 구조      💭 SQL ...">
  
    <meta property="twitter:image" content="http://localhost:4000/img/leonids-logo.png">
  

  <!-- Open Graph Tags -->
  <meta property="og:type" content="blog">
  <meta property="og:url" content="http://localhost:4000/articles/2019-04/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A44">
  <meta property="og:title" content="[DB] 데이터베이스5 | choheeis">
  <meta property="og:description" content="  서울과학기술대학교 3학년 교과과정으로 배운 “데이터베이스” 시험 공부 및 정리용 포스팅 😆  5강 - Introduction to SQL  🙋 5강에서 설명할 수 있어야 할 것들 🙋      SQL이란?    SQL의 도메인 타입들    기본적인 쿼리 구조      💭 SQL ...">
  
    <meta property="og:image" content="http://localhost:4000/img/leonids-logo.png">
  
  <title>[DB] 데이터베이스5 | choheeis</title>

  <!-- CSS files -->
  <link rel="stylesheet" href="http://localhost:4000/css/font-awesome.min.css">
  <link rel="stylesheet" href="http://localhost:4000/css/main.css">

  <link rel="canonical" href="http://localhost:4000/articles/2019-04/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A44">
  <link rel="alternate" type="application/rss+xml" title="choheeis" href="http://localhost:4000/feed.xml" />

  <!-- Icons -->
  <!-- 16x16 -->
  <link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
  <!-- 32x32 -->
  <link rel="shortcut icon" href="http://localhost:4000/favicon.png">
</head>


<body>
  <div class="row">
    <div class="col s12 m3">
      <div class="table cover">
        

<div class="cover-card table-cell table-middle">
  
  <a href="http://localhost:4000/">
    <img src="http://localhost:4000/img/avatar.png" alt="" class="avatar">
  </a>
  
  <a href="http://localhost:4000/" class="author_name">김초희</a>
  <span class="author_job">나는야 안드로이드 개발자 꿈나무 🍎</span>
  <span class="author_bio mbm">구경하러 오신 분들 모두 좋은 하루 되세요 🍉</span>
  <nav class="nav">
    <ul class="nav-list">
      <li class="nav-item">
        <a href="http://localhost:4000/">home</a>
      </li>
       
      <li class="nav-item">
        <a href="http://localhost:4000/archive/">Archive</a>
      </li>
            
      <li class="nav-item">
        <a href="http://localhost:4000/categories/">Categories</a>
      </li>
          
      <li class="nav-item">
        <a href="http://localhost:4000/resume/">Resume</a>
      </li>
          
      <li class="nav-item">
        <a href="http://localhost:4000/tags/">Tags</a>
      </li>
       
    </ul>
  </nav>
  <script type="text/javascript">
  // based on http://stackoverflow.com/a/10300743/280842
  function gen_mail_to_link(hs, subject) {
    var lhs,rhs;
    var p = hs.split('@');
    lhs = p[0];
    rhs = p[1];
    document.write("<a class=\"social-link-item\" target=\"_blank\" href=\"mailto");
    document.write(":" + lhs + "@");
    document.write(rhs + "?subject=" + subject + "\"><i class=\"fa fa-fw fa-envelope\"></i><\/a>");
  }
</script>
<div class="social-links">
  <ul>
    
      <li>
      <script>gen_mail_to_link('chchgml10@gmail.com', 'Hello from website');</script>
      </li>
    
    
    
    
    
    
    
    <li><a href="http://instagram.com/chooeeh" class="social-link-item" target="_blank"><i class="fa fa-fw fa-instagram"></i></a></li>
    
    <li><a href="http://github.com/choheeis" class="social-link-item" target="_blank"><i class="fa fa-fw fa-github"></i></a></li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </ul>
</div>

</div>

      </div>
    </div>
    <div class="col s12 m9">
      <div class="post-listing">
        <a class="btn" href= "http://localhost:4000/" >
  Home
</a>



<div id="post">
  <header class="post-header">
    <h1 title="[DB] 데이터베이스5">[DB] 데이터베이스5</h1>
    <span class="post-meta">
      <span class="post-date">
        15 APR 2019
      </span>
      •
      <span class="read-time" title="Estimated read time">
  
  
    6 mins read
  
</span>

    </span>

  </header>

  <article class="post-content">
    <blockquote>
  <p>서울과학기술대학교 3학년 교과과정으로 배운 “데이터베이스” 시험 공부 및 정리용 포스팅 😆</p>

  <p><em>5강 - Introduction to SQL</em></p>

  <p><em>🙋 5강에서 설명할 수 있어야 할 것들 🙋</em></p>

  <ul>
    <li>SQL이란?</li>
    <li>SQL의 도메인 타입들</li>
    <li>기본적인 쿼리 구조</li>
    <li></li>
  </ul>
</blockquote>

<p><br /></p>

<h2 id="-sql-쿼리-언어의-개요">💭 SQL 쿼리 언어의 개요</h2>
<hr />
<ul>
  <li>
    <p>SQL이 뭘까</p>

    <p>SQL은 Structured Query Language의 약자로 수학에 기반한 언어이다.</p>

    <p>절차식 + 비절차식 특징을 가진 DML 언어이다.</p>

    <p><br /></p>
  </li>
</ul>

<h2 id="-sql의-도메인-타입">🙉 SQL의 도메인 타입</h2>
<hr />

<blockquote>
  <p><strong>도메인</strong> : 앞 포스팅에서 도메인은 가능한 attribute 값들의 집합이라고 했당!</p>
</blockquote>

<p>도메인 타입들을 알아보자! 즉, 도메인의 유형을 알아보자는 것!</p>

<p><strong>char(n)</strong> : 이 타입을 데이터 타입으로 설정하면 길이가 n개로 고정된 데이터가 저장된다는 뜻이다.</p>

<p><strong>varchar(n)</strong> : variable character의 약자로(variable = 변하기 쉬운, 가변적인) 최대 n개의 길이를 가진 문자열 데이터를 저장한다는 뜻이다. 즉, n개 이하의 길이를 가진 데이터들을 저장할 수 있다는 것이다. (요즘에는 varchar2타입을 쓴다.)</p>

<p><strong>int</strong> : 이 타입을 데이터 타입으로 설정하면 4바이트 정수를 저장하겠다는 뜻이다.</p>

<p><strong>smallint</strong> : 이 타입을 데이터 타입으로 설정하면 2바이트 정수를 저장하겠다는 뜻이다.</p>

<p><strong>numeric(p,d)</strong> : 이 타입을 데이터 타입으로 설정하면 고정 소수점으로 표현된 실수를 저장하겠다는 뜻이다. p는 소수점 뒷부분을 포함한 실수의 총 자리수(최대 65)이고, d는 소수점 뒷부분의 자리수(0이면 소수 부분을 갖지 않음)이다. (예를 들어, 3.415에서 p는 4, d는 3이 된다.)</p>

<p><strong>float(n), double(n)</strong> : 이 타입을 데이터 타입으로 설정하면 4바이트 부동 소수점으로 표현된 실수를 저장하겠다는 것이고, n이 0~24까지는 float(n) 사용하고, 25 ~ 53 까지는 double(n)을 사용한다.</p>

<p><br /></p>

<h2 id="-기본적인-쿼리문의-구조">🔨 기본적인 쿼리문의 구조</h2>

<hr />

<ul>
  <li>
    <p><em>새로운 관계형 테이블을 생성하기 위한 쿼리문(DDL)</em></p>

    <p><strong>create table 테이블이름 (attribute이름 데이터타입 , … )</strong> 이라는 SQL을 작성하여 괄호안의 attribute들을 갖는 테이블을 생성할 수 있다.</p>

    <p>예를 들어,</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/55642003-3c886600-580a-11e9-9449-1369f83551ca.PNG" alt="데이터베이스1" /></p>

    <p>위 쿼리문을 작성하면 instructor라는 이름의 관계형 테이블이 생성된다.</p>

    <p>단, 이때는 실제적인 데이터인 인스턴스가 삽입되기 전이므로 create table 명령어로는 스키마가 생성되는 것이다.</p>

    <p><br /></p>
  </li>
  <li>
    <p><em>테이블에 실제적인 데이터를 삽입하기 위한 쿼리문</em></p>

    <p><strong>insert into 테이블이름 values (attribute순서에 맞는 각각의 데이터들을 콤마로 이곳에 작성한다.);</strong> 이라는 SQL을 작성하면 된다.</p>

    <p>이때 SQL문은 대부분의 경우 새미콜론 찍는다!</p>

    <p>또한 SQL은 대소문자를 구분하지 않기 때문에 INSERT INTO ~ 라고 작성해도 무방하다.</p>

    <p>예를 들면,</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/55642533-b53bf200-580b-11e9-8669-913377348134.PNG" alt="데이터베이스2" /></p>

    <p>위 쿼리문을 작성하면 ID, name, dept_name, salary 속성의 순서에 맞게 테이블의 첫 튜플이 완성된다.</p>

    <p><br /></p>
  </li>
  <li>
    <p><em>관계형 테이블을 생성할 때 제약조건을 주는 쿼리문</em></p>

    <p>SQL 쿼리문에는 줄 수 있는 제약조건이 3가지가 있다.</p>

    <ol>
      <li><strong>not null</strong></li>
      <li><strong>primary key(attribute 이름)</strong></li>
      <li><strong>foreign key(attribute 이름) references 테이블 이름</strong></li>
    </ol>

    <p><img src="https://user-images.githubusercontent.com/31889335/55643407-fe8d4100-580d-11e9-893e-bbfaad7adfed.PNG" alt="데이터베이스3" /></p>

    <p>위 쿼리문처럼 테이블 생성 쿼리문의 괄호 안에 primary key와 foreign key를 지정해준다.</p>

    <p>primary key는 항상 not null인 특징을 자동적으로 가지게 된다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/55643499-44e2a000-580e-11e9-9994-f59e0fa7e387.PNG" alt="데이터베이스4" /></p>

    <p>primary key를 지정해주는 쿼리문은 위와 같이 primary key의 데이터 타입 뒤에 바로 써줘도 된다.</p>

    <p><br /></p>
  </li>
  <li>
    <p><em>쿼리문의 기본 구조</em></p>

    <p>전형적인 쿼리문의 기본 구조는 다음과 같다!</p>

    <p><strong>select</strong> 선택할 attribute들을 콤마로 구분하여 나열 <strong>from</strong> 관계형 테이블들을 콤마로 구분하여 나열 <strong>where</strong> 조건문</p>

    <p>의 구조인 <strong>select - from - where</strong> 구조이다.</p>

    <p>위의 쿼리문의 결과는 또 다른 새로운 관계형 테이블이다.</p>

    <p><br /></p>
  </li>
  <li>
    <p><em>select에 대해서</em></p>

    <p>만약, instructor 테이블의 name이라는 attribute의 모든 데이터 값들을 가져오고 싶다면,</p>

    <p><strong>select</strong> name <strong>from</strong> instructor</p>

    <p>이라고 쿼리문을 작성하면 된다.</p>

    <p>테이블에서는 한개의 attribute의 데이터 값들이 똑같은 값을 갖는 경우가 있다. (예 - name이라는 attribute 값에 동명이인이 있을 경우)</p>

    <p>이런 경우에 추출된 새로운 테이블에 중복된 데이터들을 중복된 만큼 표시하지 않고 한번만 표시하도록 하는 select 문은 <strong>select distinct</strong> 이다</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/55685277-222bc500-598f-11e9-9386-e0bff9dff63e.PNG" alt="데이터베이스19" /></p>

    <p>그럼 위와 같은 테이블에서 <strong>select distinct</strong> dept_name <strong>from</strong> instructor 쿼리문을 실행시키면 아래와 같은 테이블이 선택된다.</p>

    <p>이에 반해 <strong>select all</strong> dept_name <strong>from</strong> instructor 이라는 쿼리문은 dept_name이라는 attribute의 데이터값들 중 중복된 값이 있어도 중복된 채로 다 선택하라는 뜻이다. select 뒤에 아무것도 안써도 all을 쓴 것과 같은 의미이다.</p>

    <p><strong>select * from</strong> instructor 이라는 쿼리문은 (* = 모든 attribute) 라는 의미이며 instructor 테이블의 모든 attribute 값을 출력하라는 뜻이다.</p>

    <p><strong>select</strong> 문 뒤의 attribute 들에는 사칙연산자를 붙일 수도 있다!!</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/55644667-917baa80-5811-11e9-889d-7bcdb21594a3.PNG" alt="데이터베이스5" /></p>

    <p>위 쿼리문은 나누기 연산인 / 가 salary 라는 attribute 에 붙여서 쓰였는데 instructor 테이블의 salary 라는 attribute의 데이터 값들을 12로 나눈 값들로 바꿔서 출력하라는 뜻이다. (즉, 연봉/12 이므로 월급을 출력해다라는 것이다.)</p>

    <p><br /></p>
  </li>
  <li>
    <p><em>from에 대해서</em></p>

    <p><strong>from</strong> 뒤에 여러개의 테이블이 콤마로 구분되어 작성되면 각 테이블들은 <strong>데카르트의 곱셈</strong> 을 하여 나온 새로운 테이블이고 이 새로운 테이블에서 attribute 값들을 선택하라는 뜻이다.</p>

    <p>이때, 데카르트의 곱셈을 할 때 고려해야할 조건을 <strong>where</strong> 뒤에 써줘야 한다. 써주지 않으면 각 테이블의 전체가 데카르트의 곱셈 연산이 되어 매우 비효율적이게 된다.</p>

    <p><br /></p>
  </li>
  <li>
    <p><em>where에 대해서</em></p>

    <p>만약, instructor 테이블에서 dept_name 이라는 attribute의 데이터 값이 Comp.Sic 이고 salary 라는 attribute 의 데이터 값이 80000 이 넘는 테이블 row의 name이라는 attribute를 선택하고 싶다면</p>

    <p><strong>select</strong> name <strong>from</strong> instructor <strong>where</strong> dept_name = ‘Comp.Sic’ <strong>and</strong> salary &gt; 80000</p>

    <p>이라는 쿼리문을 작성하면 된다.</p>

    <p>실제 인스턴스들을 쿼리문에 조건문으로 적을 때에는 문자열을 작은 따옴표로 묶어서 작성한다.</p>

    <p>where뒤의 조건식에는 <strong>and</strong>, <strong>or</strong>, <strong>not</strong> 의 비교식을 쓸 수 있다.</p>

    <p><br /></p>
  </li>
</ul>

<h2 id="️-기본적인-데이터-베이스-연산-기능들에-대해서">✖️ ➕기본적인 데이터 베이스 연산 기능들에 대해서</h2>
<hr />

<ul>
  <li>
    <p>서로 다른 테이블에 이름이 같은 attribute가 있을 경우 구별하는 방법</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/55646407-15379600-5816-11e9-9d87-1f0fe71aa3c1.PNG" alt="데이터베이스6" /></p>

    <p><img src="https://user-images.githubusercontent.com/31889335/55646531-5af45e80-5816-11e9-8bee-c5df58b02c21.PNG" alt="데이터베이스7" /></p>

    <p>위 두 개의 테이블을 참고하여 (teaches는 강좌 )</p>

    <p>course_id(강좌번호)를 갖는 교수들의 이름과 그들이 가르치는 course_ID을 선택하는 쿼리문을 작성해야 한다고 해보자!</p>

    <p><strong>select</strong> name, course_id <strong>from</strong> instructor, teaches <strong>where</strong> instructor.ID = teaches.ID</p>

    <p>라는 쿼리문을 작성하면 된다는 것이 이해가 될 것이다.</p>

    <p>위와 같은 경우에서 볼 수 있듯이, 서로 다른 테이블에 이름이 같은 attribute가 있으면 각각이 서로 다른 테이블에 있는 attribute임을 명시하기 위해 <strong>테이블이름.attribute이름</strong> 이라고 나타내야 한다.</p>

    <p>아래 두 개의 테이블과 아래 테이블을 참고하여</p>

    <p>Comp.Sci 전공에서 제공하는 강좌들의 정보를 찾는 쿼리문을 작성해보자. (강좌들의 course_ID와 semester, year, title을 선택하자)</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/55647078-ba06a300-5817-11e9-9c8b-1fef31bb561b.PNG" alt="데이터베이스8" /></p>

    <p><img src="https://user-images.githubusercontent.com/31889335/55686291-44771000-599a-11e9-8acb-d900e6b79d1e.PNG" alt="데이터베이스20" /></p>

    <p><strong>select</strong> section.course_id, semester, year, title <strong>from</strong> section, course <strong>where</strong> section.course_id = course.course_id <strong>and</strong> dept_name = ‘Comp.Sic’</p>

    <p>라고 작성하면 된다.</p>

    <p><br /></p>
  </li>
  <li>
    <p><em>추가적인 SQL구문(drop &amp; alter)</em></p>

    <p>테이블에 attribute를 삭제하고 추가하는 연산이다.</p>

    <p><img src="https://user-images.githubusercontent.com/31889335/56107399-01f89900-5f81-11e9-9689-2c90888c18c7.PNG" alt="데이터베이스53" /></p>

    <p><img src="https://user-images.githubusercontent.com/31889335/56107401-03c25c80-5f81-11e9-81a0-51d7211276f2.PNG" alt="데이터베이스54" /></p>

    <p>위의 drop이라는 SQL 명령어를 사용한 구문은 r이라는 테이블에서 A 라는 attribute를 삭제하라는 뜻이다.</p>

    <p>또, add 라는 SQL 명령어를 사용한 구문은 r이라는 테이블에서 A와 D 라는 attribute를 추가하라는 뜻이다. 이때, 추가된 attribute의 인스턴스에는 기본적으로 null이 저장된다.</p>

    <p><br /></p>
  </li>
  <li>
    <p><em>natural join에 대해서</em></p>

    <p><strong>join</strong> 은 두 테이블을 결합하는 것을 의미한다. 중요한 것은 join한 테이블은 <strong>column</strong> 의 개수가 늘어난 다는 것이다.
  즉, join 연산은 두 테이블의 열을 합치는 작업이다.</p>

    <p>앞선 포스팅인 데이터베이스4 에서 relational algebra의 natural join 연산을 설명하였다.</p>

    <p>그것과 SQL의 natural join 연산도 동일하다!</p>

    <p><em>! natural join을 할 때 주의할 점 !</em></p>

    <p>attribute 이름이 같지만 해당 attribute들이 의미하는 것이 다를 수 있는데 이때의 attribute는  natural join의 기준이 될 수 없다.</p>

    <p><br /></p>
  </li>
</ul>

<h2 id="-attribute-이름-바꿔서-출력하기-rename-연산">🐵 attribute 이름 바꿔서 출력하기 (Rename 연산)</h2>
<hr />

<p>쿼리문을 실행했을 때 나오는 attribute의 이름을 실제 테이블의 attribute 이름과 다른 이름으로 출력되게 하고 싶을 때는 <strong>as</strong> 라는 명령어를 쓰면 된다.</p>

<p>예를 들어,</p>

<p><strong>select</strong> ID, name, salary/12 <strong>as</strong> monthly_salary <strong>from</strong> instructor</p>

<p>이라는 쿼리문은 salary/12 라는 attribute를 monthly_salary 라는 attribute로 명명하겠다는 것이다.</p>

<p>SQL에서 as는 생략해도 문법 오류가 나지 않는다. 따라서 instructor <strong>as</strong> T라는 쿼리문은 instructor T 라는 쿼리문과 같다</p>


  </article>

  <div id="comment">
    <script src="https://utteranc.es/client.js"
      repo="choheeis/blog-comments"
      issue-term="pathname"
      theme="github-light"
      crossorigin="anonymous"
      async>
    </script>
  </div>
</div>

<!--  -->

        <footer>
  &copy; 2021 김초희. Powered by <a href="http://jekyllrb.com/">Jekyll</a>, <a href="http://github.com/renyuanz/leonids/">leonids theme</a>
</footer>

      </div>
    </div>
  </div>
  <script type="text/javascript" src="http://localhost:4000/js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="http://localhost:4000/js/main.js"></script>


</body>
</html>
